{% for item in items %}
    {% if item.viewBag['isHidden'] is not defined or not item.viewBag.isHidden %}
        <li role="presentation" class="{{ item.isActive ? 'active' : '' }} {{ item.isChildActive ? 'child-active' : '' }} {{ (item.viewBag['cssClass'] is defined) ? item.viewBag.cssClass }}">
            {% if item.url %}
                <a href="{{ item.url }}" {{ (item.viewBag['isExternal'] is defined) ? 'target="_blank"' }}>
                    {{ item.title }}
                </a>
            {% else %}
                <span>{{ item.title }}</span>
            {% endif %}

            {% if item.items %}
                <ul>{% partial __SELF__ ~ "::items" items=item.items %}</ul>
            {% endif %}
        </li>
    {% endif %}
{% endfor %}
